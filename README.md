## What is this?

A vscode extension that analyzes C/C++ and Java code for vulnerabilities - the current version supports thread data race - and suggests the fixes that has to be made to the source code. Additionally, it checks if the source code uses vulnerable libraries that have CVEs.
  
## Environment

Ubuntu x64, Python, Java, clang, Python-dotenv, google-generativeai, Infer.

## Files
* `addressSantizerTest.c` - a vulnerable C code with memory/addresses issues.
* `leakSanitaizerTest.c` - a vulnerable C code that leaks addresses.
* `threadSanitizerTest.cpp` - a vulnerable C code with thread data race issues.
* `thread_race.cpp` - another vulnerable C code with tread data race issues. 
* `thread_race` - a compiled, binary, file of the `thread_race.cpp`.
* `thread_race_corrected.cpp` - a corrected, secure, version of `thread_race.cpp`.
* `vs_code_project/rom/cve.py` - CVE checker script.
* `vs_code_project/rom/extension.js` - vscode's extension source code.
* `vs_code_project/rom/llm.py` - a script that uses Gemini API to fix vulnerable code.
* `vs_code_project/rom/runme.py`- a driver script that initiates the analysis process.
* `vs_code_project/rom/bash.sh` - a shell script that runs ThreadSanitizer on source code.
 
## How to run
1. Install the extension in vscode.
2. Press CTRL + SHIFT + P
3. Search for "execute bash script", then press enter.
4. Vulnerable code segments are highlighted.
5. A file that ends in "_corrected" is created that has the fixed source code.

## Example
1. **Usability** - a user doesn't have to directly use any advanced code analysis tools.
2. **Scalability** - the engine of the plugin can be easily scaled to other languages and vulnerabilities.
3. **Performance** - a lightweight tool that doesn't interfere with your your working environment. 
4. **Auto-fix** - a vulnerable code is analyzed and rewritten in a secure way without altering the program's behavior.

### What happens
`runme.py`executes two commands: 
1. The first run the `santaize.sh` script to run the sanitizer on the vulnerable program.
The output is redirected to a file called `output`.
2. The second is a python script, `PromptGenerator.py`that interact with chatGPT to extract some useful data from the sanitizer output, then this result is used to formulate a prompt message.  
